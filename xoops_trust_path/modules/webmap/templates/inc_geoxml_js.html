<{* $Id: inc_geoxml_js.html,v 1.1.1.1 2009/02/23 03:26:43 ohwada Exp $ *}>

<{if $show_google_js }>
  <script src="http://maps.google.com/maps?file=api&amp;hl=<{$xoops_langcode}>&amp;v=2&amp;key=<{$apikey}>" type="text/javascript" charset="utf-8"></script>
<{/if}>

<{if $show_map_js }>
  <script src="<{$xoops_url}>/modules/<{$xoops_dirname}>/libs/map.js" type="text/javascript"></script>
<{/if}>

<script type="text/javascript">
//<![CDATA[
function webmap_load_geoxml_<{$id}>() 
{
	var webmap_param = {};
	webmap_param["latitude"]     = <{$latitude}>;
	webmap_param["latitude"]     = <{$latitude}>;
	webmap_param["longitude"]    = <{$longitude}>;
	webmap_param["zoom"]         = <{$zoom}>;
	webmap_param["element_map"]  = "<{$element_map}>";
	webmap_param["map_type"]     = "<{$map_type}>";
	webmap_param["map_control"]  = "<{$map_control}>";
	webmap_param["type_control"] = "<{$type_control}>";
	webmap_param["use_scale_control"]        = <{$use_scale_control}>;
	webmap_param["use_overview_map_control"] = <{$use_overview_map_control}>;
	webmap_param["xml_url"]      = "<{$xml_url}>";

	if ( GBrowserIsCompatible() ) {
		webmap_map_geoxml( webmap_param );
	} else {
		alert( "<{$lang_not_compatible}>" );
	}
}

window.onload   = webmap_load_geoxml_<{$id}>;
window.onunload = GUnload;
//]]>
</script>

<{if $show_element }>
  <div id="<{$element}>" style="<{$style}>">Loading ...</div>
<{/if}>
